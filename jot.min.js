(function(t){var e={};if(typeof module!=="undefined"&&module.exports)module.exports=e;else t.Jot=e;var n=e.Task=function(t){this.context=t||{};this.props=this.props||{i:undefined,o:undefined,into:null,outo:null};return this};n.prototype.i=function(t){if(typeof t==="undefined")return this.props.i;this.props.i=t;return this};n.prototype.o=function(t){if(typeof t==="undefined")return this.props.o;this.props.o=t;return this};n.prototype.into=function(t){if(typeof t==="undefined")return this.props.into;this.props.into=t;return this};n.prototype.outo=function(t){if(typeof t==="undefined")return this.props.outo;this.props.outo=t;return this};n.prototype.invade=function(t){var e=i(t);if(e){var n=document.createElement("code");var r=document.createElement("code");var o=document.createElement("pre");var s=document.createElement("pre");e.appendChild(o).appendChild(n);e.appendChild(s).appendChild(r);this.into(n).outo(r)}return this};n.prototype.render=function(){var t=this.i(),e=this.o(),n=this.into(),r=this.outo();if(r)r.innerHTML="";if(typeof t!=="undefined"&&n)n.innerHTML=u(t);if(typeof e!=="undefined"&&r){if(e instanceof Element){r.appendChild(e)}else{if(e instanceof Error)e=e.toString();else if(!o(e))e=JSON.stringify(e);r.innerHTML=e}}return this};n.prototype.run=function(t){if(t)this.i(t);var e=this.i();if(e){var n=p(e,this.context);if(n&&(n instanceof Promise||n.then)){return n.then(this.o.bind(this)).then(this.render.bind(this))}this.o(n)}this.render();return this};n.prototype.reset=function(){this.props.o=undefined;return this};var r=e.TaskSet=function(){this.context={};this.tasks=[];return this};r.prototype.addTask=function(t){e.Task.call(t,this.context);this.tasks.push(t);return this};r.prototype.createTask=function(t,e){var r=new n(this.context);if(!e)r.invade(t);else r.into(t).outo(e);this.tasks.push(r);return r};r.prototype.render=function(){this.tasks.forEach(function(t){t.render()});return this};r.prototype.run=function(){this.tasks.forEach(function(t){t.run()});return this};r.prototype.reset=function(){this.tasks.forEach(function(t){t.reset()});return this};function i(t){if(t instanceof Element)return t;if(t instanceof Array)return t[0];if(typeof t==="string")return document.querySelector(t)}function o(t){var e=false;if(typeof t==="string")e=s(t).length!==t.length;return e}function s(t){t=t.replace(/</g,"&lt;");t=t.replace(/>/g,"&gt;");return t}function u(t){var e=/^function[A-z\s]*\([\s]*\)[\s]*\{\n*/,n=/[\n\s]*\}$/,r=/^[\s]+/,i=s(t.toString());i=i.replace(e,"");i=i.replace(n,"");var o=i.match(r);if(o){var u=new RegExp("^"+o[0],"gm");i=i.replace(u,"")}return i}function p(t,e){try{var n=t.call(e);return n}catch(r){return r}}return})(this);
//# sourceMappingURL=jot.min.map